Win32 TODO
==========

http://msdn.microsoft.com/archive/default.asp?url=/archive/en-us/dnardirdraw/html/msdn_directd5.asp
http://francis.dupont.free.fr/coindev/english/directdraw/clipping.htm
http://www.fourcc.org/fccovrly.php
--
libspectrum: nothing to do - configure with --without-glib
--
change include "memory.h" to:

34 11 C:\Dev-Cpp-projects\fuse-cvs\z80\z80_ops.c
#include "../memory.h"
31 11 C:\Dev-Cpp-projects\fuse-cvs\debugger\debugger.c
#include "../memory.h"
37 11 C:\Dev-Cpp-projects\fuse-cvs\debugger\disassemble.c
#include "../memory.h"
--
fuse.c:
For UI_WIN32, rename main() to fuse_main()
because the program must start from WinMain()
and main() is used if found
--
is there a -D option?
--
strip fuse.exe and compress with http://upx.sf.net/
--
write .def file for libspectrum.dll
--
used libraries to add in win32:
v bzip2 for libspectrum
jsw
libgcrypt
lib765
libdsk
--
add some help to win32
maybe there's man2help or man2pdf or something like that?
man2html
--
gtkkeyboard.c
line 98:
/*
  return XKeycodeToKeysym(gdk_display,
			  XKeysymToKeycode(gdk_display,keysym),
			  0);
*/
  return keysym;
--
gtkui.c
line 35:
//#include <gdk/gdkx.h>
--
to compile with gtk 2.0
-mno-cygwin -mms-bitfields -I. -I"C:\Dev-Cpp\include\gtk-2.0" -I"C:\Dev-Cpp\include\gtkdeps-2.0" -I"C:\Dev-Cpp\include\gtk-2.0\include" -I"C:\Dev-Cpp\include\atk-1.0" -I"C:\Dev-Cpp\include\pango-1.0" -I"C:\Dev-Cpp\include\glib-2.0" -I"C:\Dev-Cpp\include\glib-2.0" -I"C:\Dev-Cpp\include\glib-2.0\include" -I"C:\Dev-Cpp\lib\glib-2.0\include" -I"C:\Dev-Cpp\lib\gtk-2.0\include"
-lgtk-win32-2.0 -lgdk-win32-2.0 -lgthread-2.0 -lgdi32 -lole32 -luuid -latk-1.0 -lgdk_pixbuf-2.0 -lpangowin32-1.0 -lgdi32 -lpango-1.0 -lgobject-2.0 -lgmodule-2.0 -lglib-2.0 -lintl -liconv
--
in ui/scaler/scalers.c:
include in compilation
override build command:
$(CC) -DSCALER_DATA_SIZE=2 -c scalers.c -o scalers16.o $(CFLAGS)
$(CC) -DSCALER_DATA_SIZE=4 -c scalers.c -o scalers32.o $(CFLAGS)

"
$(CC) -DSCALER_DATA_SIZE=2 -c ui\scaler\scalers.c -o ui\scaler\scalers16.o $(CFLAGS)
$(CC) -DSCALER_DATA_SIZE=4 -c ui\scaler\scalers.c -o ui\scaler\scalers32.o $(CFLAGS)
"
--
in project options, parameters
first line should be:
ui/scaler/scalers16.o ui/scaler/scalers32.o 
--
full config.h for win32:
#define HAVE_ENOUGH_MEMORY 1
#define HAVE_LIB_XML2 1
#define UI_WIN32 1
#define USE_LIBPNG 1
#define USE_WIDGET 1
#define HAVE_DSOUND_H 1
#define HAVE_GETPAGESIZE 1
#define HAVE_INTTYPES_H 1
#define HAVE_LIBSPECTRUM_H 1
#define HAVE_MEMORY_H 1
#define HAVE_STDINT_H 1
#define HAVE_STDLIB_H 1
#define HAVE_STRINGS_H 1
#define HAVE_STRING_H 1
#define HAVE_SYS_SOUNDCARD_H 1
#define HAVE_SYS_STAT_H 1
#define HAVE_SYS_TYPES_H 1
#define HAVE_UNISTD_H 1
#define PACKAGE "fuse"
#define PACKAGE_BUGREPORT ""
#define PACKAGE_NAME ""
#define PACKAGE_STRING ""
#define PACKAGE_TARNAME ""
#define PACKAGE_VERSION ""
#define STDC_HEADERS 1
#define VERSION "0.6.1.1"
#define YYTEXT_POINTER 1
--
directx redefinitions (?):
1.
230 C:\Dev-Cpp\include\dsound.h
[Warning] redefinition of `LPCWAVEFORMATEX'
typedef const WAVEFORMATEX *LPCWAVEFORMATEX;
1018 C:\Dev-Cpp\include\mmsystem.h
[Warning] `LPCWAVEFORMATEX' previously declared here
typedef const WAVEFORMATEX *LPCWAVEFORMATEX;
2.
1899 C:\Dev-Cpp\include\dsound.h
redefinition of `LPDIRECTSOUNDFULLDUPLEX'
typedef struct IDirectSoundFullDuplex *LPDIRECTSOUNDFULLDUPLEX;
175 C:\Dev-Cpp\include\dsound.h
`LPDIRECTSOUNDFULLDUPLEX' previously declared here
typedef struct IDirectSoundFullDuplex       *LPDIRECTSOUNDFULLDUPLEX;
3.
211 C:\Dev-Cpp\include\ddraw.h
[Warning] redefinition of `HRESULT'
typedef long HRESULT;
252 C:\Dev-Cpp\include\windef.h
[Warning] `HRESULT' previously declared here
typedef LONG HRESULT;
--
make appropriate copyright notes
